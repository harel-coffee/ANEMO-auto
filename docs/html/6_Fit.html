
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Fit &#8212; ANEMO 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Plot" href="7_Plot.html" />
    <link rel="prev" title="Equation" href="5_Equation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ANEMO</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=invibe&repo=ANEMO&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="demo_ANEMO.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="0_ANEMO_doc.html">ANEMO</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1_readedf.html">read_edf</a></li>
<li class="toctree-l2"><a class="reference internal" href="2_arg.html">arg</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_datamodification.html">data_modification</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_classicalmethod.html">classical_method</a></li>
<li class="toctree-l2"><a class="reference internal" href="5_Equation.html">Equation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Fit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#before-using-the-functions">before using the functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#Fit">Fit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#generation_param_fit">generation_param_fit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fit_trial">Fit_trial</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Fit_full">Fit_full</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="7_Plot.html">Plot</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="0_ANEMO_doc.html">ANEMO</a><ul>
      <li>Previous: <a href="5_Equation.html" title="previous chapter">Equation</a></li>
      <li>Next: <a href="7_Plot.html" title="next chapter">Plot</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="5_Equation.html" title="Previous document">Equation</a>
        </li>
        <li>
          <a href="7_Plot.html" title="Next document">Plot</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="section" id="Fit">
<h1>Fit<a class="headerlink" href="#Fit" title="Permalink to this headline">¶</a></h1>
<div class="section" id="before-using-the-functions">
<span id="before-using-the-function"></span><h2>before using the functions<a class="headerlink" href="#before-using-the-functions" title="Permalink to this headline">¶</a></h2>
<p>for use these functions, you will need :</p>
<ul class="simple">
<li>to use <a class="reference internal" href="0_ANEMO_doc.html#module-ANEMO.ANEMO.ANEMO" title="ANEMO.ANEMO.ANEMO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ANEMO</span></code></a></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">ANEMO</span> <span class="k">import</span> <span class="n">ANEMO</span>

<span class="n">param_exp</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;N_trials&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N_blocks&#39;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
             <span class="s1">&#39;dir_target&#39;</span> <span class="p">:</span> <span class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]],</span>
             <span class="s1">&#39;px_per_deg&#39;</span> <span class="p">:</span> <span class="mf">36.51</span><span class="p">}</span>

<span class="n">A</span> <span class="o">=</span> <span class="n">ANEMO</span><span class="p">(</span><span class="n">param_exp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>to define Fit</li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">Fit</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">Fit</span><span class="p">(</span><span class="n">param_exp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>to use <a class="reference internal" href="1_readedf.html#ANEMO.read_edf" title="ANEMO.read_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_edf()</span></code></a></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">ANEMO</span> <span class="k">import</span> <span class="n">read_edf</span>

<span class="n">datafile</span> <span class="o">=</span> <span class="s1">&#39;name_data_file.asc&#39;</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">read_edf</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;TRIALID&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>to use <a class="reference internal" href="2_arg.html#ANEMO.ANEMO.ANEMO.arg" title="ANEMO.ANEMO.ANEMO.arg"><code class="xref py py-func docutils literal notranslate"><span class="pre">arg()</span></code></a></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">block</span><span class="p">,</span> <span class="n">trial</span>  <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<span class="n">trial_data</span> <span class="o">=</span> <span class="n">trial</span> <span class="o">+</span> <span class="n">param_exp</span><span class="p">[</span><span class="s1">&#39;N_trials&#39;</span><span class="p">]</span><span class="o">*</span><span class="n">block</span>
<span class="n">arg</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">arg</span><span class="p">(</span><span class="n">data_trial</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="n">trial_data</span><span class="p">],</span> <span class="n">trial</span><span class="o">=</span><span class="n">trial</span><span class="p">,</span> <span class="n">block</span><span class="o">=</span><span class="n">block</span><span class="p">)</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>to use <a class="reference internal" href="3_datamodification.html#ANEMO.ANEMO.ANEMO.velocity_NAN" title="ANEMO.ANEMO.ANEMO.velocity_NAN"><code class="xref py py-func docutils literal notranslate"><span class="pre">velocity_NAN()</span></code></a></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">velocity_NAN</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">velocity_NAN</span><span class="p">(</span><span class="n">data_x</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">data_x</span><span class="p">,</span>
                              <span class="n">data_y</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">data_y</span><span class="p">,</span>
                              <span class="n">saccades</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">saccades</span><span class="p">,</span>
                              <span class="n">trackertime</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">trackertime</span><span class="p">,</span>
                              <span class="n">TargetOn</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">TargetOn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<ul class="simple">
<li>to use <a class="reference internal" href="4_classicalmethod.html#ANEMO.ANEMO.ANEMO.classical_method.Full" title="ANEMO.ANEMO.ANEMO.classical_method.Full"><code class="xref py py-func docutils literal notranslate"><span class="pre">Full()</span></code></a></li>
</ul>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># time since the beginning of the trial when the target to follow appears</span>
<span class="n">TargetOn_0</span> <span class="o">=</span> <span class="n">arg</span><span class="o">.</span><span class="n">TargetOn</span><span class="o">-</span><span class="n">arg</span><span class="o">.</span><span class="n">t_0</span>

<span class="n">classic_lat</span><span class="p">,</span> <span class="n">classic_max</span><span class="p">,</span> <span class="n">classic_ant</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">classical_method</span><span class="o">.</span><span class="n">Full</span><span class="p">(</span><span class="n">velocity_NAN</span><span class="p">,</span> <span class="n">TargetOn_0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<hr style="height: 0px; width: 100%; border: 1px solid #B1B4B6; margin-left:0"><hr style="height: 0px; width: 1%; border: 10px solid #B1B4B6; margin-left:0; opacity: 0"></div>
<div class="section" id="Fit">
<h2>Fit<a class="headerlink" href="#Fit" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-ANEMO.ANEMO.ANEMO.Fit"></span><p>Fit allows you to perform Fits on Smooth Pursuite Eyes Movements data.
You could use the functions ‘velocity’, ‘position’ and ‘saccades’ already present, but also your own functions.
It must be initialized with the parameters of the experiment
(see <a class="reference internal" href="0_ANEMO_doc.html#module-ANEMO.ANEMO.ANEMO" title="ANEMO.ANEMO.ANEMO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ANEMO</span></code></a> for more precisions on the parameters)</p>
<div class="section" id="generation_param_fit">
<h3>generation_param_fit<a class="headerlink" href="#generation_param_fit" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ANEMO.ANEMO.ANEMO.Fit.generation_param_fit">
<code class="descclassname">ANEMO.ANEMO.ANEMO.Fit.</code><code class="descname">generation_param_fit</code><span class="sig-paren">(</span><em>self</em>, <em>equation=’fct_velocity’</em>, <em>data_x=None</em>, <em>dir_target=None</em>, <em>trackertime=None</em>, <em>TargetOn=None</em>, <em>StimulusOf=None</em>, <em>saccades=None</em>, <em>value_latence=None</em>, <em>value_maxi=None</em>, <em>value_anti=None</em>, <em>before_sacc=5</em>, <em>after_sacc=15</em>, <em>**opt</em><span class="sig-paren">)</span><a class="headerlink" href="#ANEMO.ANEMO.ANEMO.Fit.generation_param_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the parameters and independent variables of the fit</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last">
<li><p class="first"><strong>equation</strong> (<em>str {‘fct_velocity’, ‘fct_position’, ‘fct_saccades’} (default ‘fct_velocity’)</em>) –</p>
<dl class="docutils">
<dt>name of the equation for the fit :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> : generates the parameters for a fit velocity</li>
<li><code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> : generates the parameters for a fit position</li>
<li><code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> : generates the parameters for a fit saccades</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>data_x</strong> (<em>ndarray, optional (default None)</em>) – x position for the trial recorded by the eyetracker transformed by <a class="reference internal" href="1_readedf.html#ANEMO.read_edf" title="ANEMO.read_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_edf()</span></code></a></p>
</li>
<li><p class="first"><strong>dir_target</strong> (<em>int, optional (default None)</em>) – the direction of the target – if <code class="docutils literal notranslate"><span class="pre">None</span></code> went searched in <code class="docutils literal notranslate"><span class="pre">param_exp</span></code> (see <a class="reference internal" href="0_ANEMO_doc.html#module-ANEMO.ANEMO.ANEMO" title="ANEMO.ANEMO.ANEMO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ANEMO</span></code></a>)</p>
</li>
<li><p class="first"><strong>trackertime</strong> (<em>ndarray, optional (default None)</em>) – the time of the tracker</p>
</li>
<li><p class="first"><strong>TargetOn</strong> (<em>int, optional (default None)</em>) – time when the target to follow appears</p>
</li>
<li><p class="first"><strong>StimulusOf</strong> (<em>int, optional (default None)</em>) – time when the stimulus disappears</p>
</li>
<li><p class="first"><strong>saccades</strong> (<em>list, optional (default None)</em>) – list of edf saccades for the trial recorded by the eyetracker transformed by <a class="reference internal" href="1_readedf.html#ANEMO.read_edf" title="ANEMO.read_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_edf()</span></code></a></p>
</li>
<li><p class="first"><strong>value_latence</strong> (<em>int, optional (default None)</em>) – value that takes the parameter latence to begin the fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">nan</span></code> by default <code class="docutils literal notranslate"><span class="pre">TargetOn-t_0+100</span></code></p>
</li>
<li><p class="first"><strong>value_maxi</strong> (<em>float, optional (default 15)</em>) – value that takes the parameter maxi to begin the fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">nan</span></code> by default <code class="docutils literal notranslate"><span class="pre">15.</span></code></p>
</li>
<li><p class="first"><strong>value_anti</strong> (<em>float, optional (default 0)</em>) – value that takes the parameter v_anti to begin the fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">nan</span></code> by default <code class="docutils literal notranslate"><span class="pre">0.</span></code></p>
</li>
<li><p class="first"><strong>before_sacc</strong> (<em>int, optional (default 5)</em>) – time to remove before saccades – it is advisable to put : <code class="docutils literal notranslate"><span class="pre">5</span></code> for <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> and <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code> for <code class="docutils literal notranslate"><span class="pre">'fct_saccade'</span></code></p>
</li>
<li><p class="first"><strong>after_sacc</strong> (<em>int, optional (default 15)</em>) – time to delete after saccades – it is advisable to put <code class="docutils literal notranslate"><span class="pre">15</span></code></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>some parameters must be defined :</strong></p>
<ul class="last simple">
<li><dl class="first docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> :</dt>
<dd><ul class="first last">
<li>dir_target</li>
<li>trackertime</li>
<li>TargetOn</li>
<li>StimulusOf</li>
<li>saccades</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> :</dt>
<dd><ul class="first last">
<li>data_x</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>param_fit</strong> (<em>dict</em>) – dictionary containing the parameters of the fit</li>
<li><strong>inde_vars</strong> (<em>dict</em>) – dictionary containing the independent variables of the fit</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p><strong>Exemple:</strong></p>
<p>see <a class="reference internal" href="#before-using-the-function"><span class="std std-ref">here</span></a> before using the function</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">param_fit</span><span class="p">,</span> <span class="n">inde_var</span> <span class="o">=</span> <span class="n">Fit</span><span class="o">.</span><span class="n">generation_param_fit</span><span class="p">(</span><span class="n">equation</span><span class="o">=</span><span class="s1">&#39;fct_velocity&#39;</span><span class="p">,</span> <span class="n">data_x</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">data_x</span><span class="p">,</span>
                                     <span class="n">dir_target</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">dir_target</span><span class="p">,</span> <span class="n">trackertime</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">trackertime</span><span class="p">,</span>
                                     <span class="n">TargetOn</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">TargetOn</span><span class="p">,</span> <span class="n">StimulusOf</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">StimulusOf</span><span class="p">,</span> <span class="n">saccades</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">saccades</span><span class="p">,</span>
                                     <span class="n">value_latence</span><span class="o">=</span><span class="n">classic_lat</span><span class="p">,</span> <span class="n">value_maxi</span><span class="o">=</span><span class="n">classic_max</span><span class="p">,</span> <span class="n">value_anti</span><span class="o">=</span><span class="n">classic_ant</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">param_fit</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>[{&#39;max&#39;: 80.0, &#39;min&#39;: 13.0, &#39;name&#39;: &#39;tau&#39;, &#39;value&#39;: 15.0, &#39;vary&#39;: &#39;vary&#39;},
 {&#39;max&#39;: 40.0,
  &#39;min&#39;: 1.0,
  &#39;name&#39;: &#39;maxi&#39;,
  &#39;value&#39;: 14.172123868097575,
  &#39;vary&#39;: True},
 {&#39;max&#39;: None, &#39;min&#39;: None, &#39;name&#39;: &#39;dir_target&#39;, &#39;value&#39;: 1, &#39;vary&#39;: False},
 {&#39;max&#39;: 40.0,
  &#39;min&#39;: -40.0,
  &#39;name&#39;: &#39;v_anti&#39;,
  &#39;value&#39;: 7.1213366201041435,
  &#39;vary&#39;: True},
 {&#39;max&#39;: 1122, &#39;min&#39;: 997, &#39;name&#39;: &#39;latence&#39;, &#39;value&#39;: 1022, &#39;vary&#39;: True},
 {&#39;max&#39;: 997, &#39;min&#39;: 422, &#39;name&#39;: &#39;start_anti&#39;, &#39;value&#39;: 822, &#39;vary&#39;: &#39;vary&#39;}]
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">inde_var</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;x&#39;: array([   0,    1,    2, ..., 1800, 1801, 1802])}
</pre></div>
</div>
</div>
</div>
<div class="section" id="Fit_trial">
<h3>Fit_trial<a class="headerlink" href="#Fit_trial" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ANEMO.ANEMO.ANEMO.Fit.Fit_trial">
<code class="descclassname">ANEMO.ANEMO.ANEMO.Fit.</code><code class="descname">Fit_trial</code><span class="sig-paren">(</span><em>self</em>, <em>data_trial</em>, <em>equation=’fct_velocity’</em>, <em>data_x=None</em>, <em>dir_target=None</em>, <em>trackertime=None</em>, <em>TargetOn=None</em>, <em>StimulusOf=None</em>, <em>saccades=None</em>, <em>time_sup=280</em>, <em>step_fit=2</em>, <em>do_whitening=False</em>, <em>param_fit=None</em>, <em>inde_vars=None</em>, <em>value_latence=None</em>, <em>value_maxi=15.0</em>, <em>value_anti=0.0</em>, <em>before_sacc=5</em>, <em>after_sacc=15</em>, <em>**opt</em><span class="sig-paren">)</span><a class="headerlink" href="#ANEMO.ANEMO.ANEMO.Fit.Fit_trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the result of the fit of a trial</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last">
<li><p class="first"><strong>data_trial</strong> (<em>ndarray</em>) –</p>
<dl class="docutils">
<dt>data for a trial :</dt>
<dd><ul class="first last simple">
<li>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> : velocity data in deg/sec</li>
<li>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> : position data in deg</li>
<li>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> : position data in deg</li>
<li>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">function</span></code> : velocity or position</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>equation</strong> (<em>str {‘fct_velocity’, ‘fct_position’, ‘fct_saccades’} or function (default ‘fct_velocity’)</em>) –</p>
<dl class="docutils">
<dt>function or name of the equation for the fit :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> : does a data fit with function <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> : does a data fit with function <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> : does a data fit with function <code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">function</span></code> : does a data fit with function</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>data_x</strong> (<em>ndarray, optional (default None)</em>) – x position for the trial recorded by the eyetracker transformed by <a class="reference internal" href="1_readedf.html#ANEMO.read_edf" title="ANEMO.read_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_edf()</span></code></a></p>
</li>
<li><p class="first"><strong>dir_target</strong> (<em>int, optional (default None)</em>) – the direction of the target – if <code class="docutils literal notranslate"><span class="pre">None</span></code> went searched in <code class="docutils literal notranslate"><span class="pre">param_exp</span></code> (see <a class="reference internal" href="0_ANEMO_doc.html#module-ANEMO.ANEMO.ANEMO" title="ANEMO.ANEMO.ANEMO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ANEMO</span></code></a>)</p>
</li>
<li><p class="first"><strong>trackertime</strong> (<em>ndarray, optional (default None)</em>) – the time of the tracker, if <code class="docutils literal notranslate"><span class="pre">None</span></code> = <code class="docutils literal notranslate"><span class="pre">np.arrange((len(data_trial))</span></code></p>
</li>
<li><p class="first"><strong>TargetOn</strong> (<em>int, optional (default None)</em>) – time when the target to follow appears</p>
</li>
<li><p class="first"><strong>StimulusOf</strong> (<em>int, optional (default None)</em>) – time when the stimulus disappears</p>
</li>
<li><p class="first"><strong>saccades</strong> (<em>list, optional (default None)</em>) – list of edf saccades for the trial recorded by the eyetracker transformed by <a class="reference internal" href="1_readedf.html#ANEMO.read_edf" title="ANEMO.read_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_edf()</span></code></a></p>
</li>
<li><p class="first"><strong>time_sup</strong> (<em>int, optional (default 280)</em>) – time that will be deleted to perform the fit (for data that is less good at the end of the test)</p>
</li>
<li><p class="first"><strong>step_fit</strong> (<em>int, optional (default 2)</em>) – number of steps for the fit</p>
</li>
<li><p class="first"><strong>do_whitening</strong> (<em>bool, optional (default False)</em>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code> return the whitened fit</p>
</li>
<li><p class="first"><strong>param_fit</strong> (<em>dic, optional (default None)</em>) –</p>
<dl class="docutils">
<dt>fit parameter dictionary, each parameter is a dict containing :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'name'</span></code> : name of the variable,</li>
<li><code class="docutils literal notranslate"><span class="pre">'value'</span></code> : initial value,</li>
<li><code class="docutils literal notranslate"><span class="pre">'min'</span></code> : minimum value,</li>
<li><code class="docutils literal notranslate"><span class="pre">'max'</span></code> : maximum value,</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">'vary'</span></code> :</dt>
<dd><ul class="first last">
<li><code class="docutils literal notranslate"><span class="pre">True</span></code> if varies during fit,</li>
<li><code class="docutils literal notranslate"><span class="pre">'vary'</span></code> if only varies for step 2,</li>
<li><code class="docutils literal notranslate"><span class="pre">False</span></code> if not varies during fit</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>if <code class="docutils literal notranslate"><span class="pre">None</span></code> generate by <a class="reference internal" href="#ANEMO.ANEMO.ANEMO.Fit.generation_param_fit" title="ANEMO.ANEMO.ANEMO.Fit.generation_param_fit"><code class="xref py py-func docutils literal notranslate"><span class="pre">generation_param_fit()</span></code></a></p>
</li>
<li><p class="first"><strong>inde_vars</strong> (<em>dic, optional (default None)</em>) – independent variable dictionary of fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> generate by <a class="reference internal" href="#ANEMO.ANEMO.ANEMO.Fit.generation_param_fit" title="ANEMO.ANEMO.ANEMO.Fit.generation_param_fit"><code class="xref py py-func docutils literal notranslate"><span class="pre">generation_param_fit()</span></code></a></p>
</li>
<li><p class="first"><strong>value_latence</strong> (<em>int, optional (default None)</em>) – value that takes the parameter latence to begin the fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">nan</span></code> by default <code class="docutils literal notranslate"><span class="pre">TargetOn-t_0+100</span></code></p>
</li>
<li><p class="first"><strong>value_maxi</strong> (<em>float, optional (default 15)</em>) – value that takes the parameter maxi to begin the fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">nan</span></code> by default <code class="docutils literal notranslate"><span class="pre">15.</span></code></p>
</li>
<li><p class="first"><strong>value_anti</strong> (<em>float, optional (default 0)</em>) – value that takes the parameter v_anti to begin the fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">nan</span></code> by default <code class="docutils literal notranslate"><span class="pre">0.</span></code></p>
</li>
<li><p class="first"><strong>before_sacc</strong> (<em>int, optional (default 5)</em>) – time to remove before saccades – it is advisable to put : <code class="docutils literal notranslate"><span class="pre">5</span></code> for <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> and <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code> for <code class="docutils literal notranslate"><span class="pre">'fct_saccade'</span></code></p>
</li>
<li><p class="first"><strong>after_sacc</strong> (<em>int, optional (default 15)</em>) – time to delete after saccades – it is advisable to put <code class="docutils literal notranslate"><span class="pre">15</span></code></p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p><strong>some parameters must be defined :</strong></p>
<ul class="last simple">
<li><dl class="first docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> :</dt>
<dd><ul class="first last">
<li>data_x</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">param_fit</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">inde_vars</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> :</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> :</dt>
<dd><ul class="first last">
<li>data_x</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> :</dt>
<dd><ul class="first last">
<li>dir_target</li>
<li>trackertime</li>
<li>TargetOn</li>
<li>StimulusOf</li>
<li>saccades</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>result</strong> (<em>lmfit.model.ModelResult</em>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<p><strong>Exemple:</strong></p>
<p>see <a class="reference internal" href="#before-using-the-function"><span class="std std-ref">here</span></a> before using the function</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># /!\ Warning /!\</span>
<span class="c1"># inde_var must be the same size as data without time_sup</span>

<span class="n">time_sup</span><span class="o">=</span><span class="mi">280</span>
<span class="n">inde_var</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inde_var</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">][:</span><span class="o">-</span><span class="n">time_sup</span><span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">Fit</span><span class="o">.</span><span class="n">Fit_trial</span><span class="p">(</span><span class="n">velocity_NAN</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="s1">&#39;fct_velocity&#39;</span><span class="p">,</span>
                       <span class="n">data_x</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">data_x</span><span class="p">,</span> <span class="n">dir_target</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">dir_target</span><span class="p">,</span>
                       <span class="n">trackertime</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">trackertime</span><span class="p">,</span> <span class="n">TargetOn</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">TargetOn</span><span class="p">,</span>
                       <span class="n">StimulusOf</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">StimulusOf</span><span class="p">,</span> <span class="n">saccades</span><span class="o">=</span><span class="n">arg</span><span class="o">.</span><span class="n">saccades</span><span class="p">,</span>
                       <span class="n">time_sup</span><span class="o">=</span><span class="n">time_sup</span><span class="p">,</span>
                       <span class="n">param_fit</span><span class="o">=</span><span class="n">param_fit</span><span class="p">,</span> <span class="n">inde_vars</span><span class="o">=</span><span class="n">inde_var</span><span class="p">,</span>
                       <span class="n">value_latence</span><span class="o">=</span><span class="n">classic_lat</span><span class="p">,</span> <span class="n">value_maxi</span><span class="o">=</span><span class="n">classic_max</span><span class="p">,</span> <span class="n">value_anti</span><span class="o">=</span><span class="n">classic_ant</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># to find the values of the fitted parameters:</span>
<span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="n">param</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
tau = 17.380266561997693
maxi = 12.835471134911385
dir_target = 1
v_anti = 6.562746785796833
latence = 1105.1464651453684
start_anti = 830.9999986217952
do_whitening = False
</pre></div></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">timing of the values of the fitted parameters is the time relative at the beginning of the trial</p>
</div>
</div>
<div class="section" id="Fit_full">
<h3>Fit_full<a class="headerlink" href="#Fit_full" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="ANEMO.ANEMO.ANEMO.Fit.Fit_full">
<code class="descclassname">ANEMO.ANEMO.ANEMO.Fit.</code><code class="descname">Fit_full</code><span class="sig-paren">(</span><em>self</em>, <em>data</em>, <em>equation=’fct_velocity’</em>, <em>fitted_data=’velocity’</em>, <em>N_blocks=None</em>, <em>N_trials=None</em>, <em>time_sup=280</em>, <em>step_fit=2</em>, <em>do_whitening=False</em>, <em>list_param_enre=None</em>, <em>param_fit=None</em>, <em>inde_vars=None</em>, <em>before_sacc=5</em>, <em>after_sacc=15</em>, <em>stop_search_misac=None</em>, <em>filt=None</em>, <em>cutoff=30</em>, <em>sample_rate=1000</em>, <em>plot=None</em>, <em>file_fig=None</em>, <em>show_target=False</em>, <em>fig_width=12</em>, <em>t_label=20</em>, <em>t_text=14</em><span class="sig-paren">)</span><a class="headerlink" href="#ANEMO.ANEMO.ANEMO.Fit.Fit_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parameters of the fit present in list_param_enre</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first">
<li><p class="first"><strong>data</strong> (<em>list</em>) – edf data for the trials recorded by the eyetracker transformed by <a class="reference internal" href="1_readedf.html#ANEMO.read_edf" title="ANEMO.read_edf"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_edf()</span></code></a></p>
</li>
<li><p class="first"><strong>equation</strong> (<em>str {‘fct_velocity’, ‘fct_position’, ‘fct_saccades’} or function (default ‘fct_velocity’)</em>) –</p>
<dl class="docutils">
<dt>function or name of the equation for the fit :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> : does a data fit with function <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> : does a data fit with function <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> : does a data fit with function <code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">function</span></code> : does a data fit with function</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>fitted_data</strong> (<em>str {‘velocity’, ‘position’, ‘saccade’}, optional (default ‘velocity’)</em>) –</p>
<dl class="docutils">
<dt>nature of fitted data :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'velocity'</span></code> : fit velocity data for trial in deg/sec</li>
<li><code class="docutils literal notranslate"><span class="pre">'position'</span></code> : fit position data for trial in deg</li>
<li><code class="docutils literal notranslate"><span class="pre">'saccade'</span></code> : fit position data for sacades in trial in deg</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>N_blocks</strong> (<em>int, optional (default None)</em>) – number of blocks – if <code class="docutils literal notranslate"><span class="pre">None</span></code> went searched in <code class="docutils literal notranslate"><span class="pre">param_exp</span></code> (see <a class="reference internal" href="0_ANEMO_doc.html#module-ANEMO.ANEMO.ANEMO" title="ANEMO.ANEMO.ANEMO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ANEMO</span></code></a>)</p>
</li>
<li><p class="first"><strong>N_trials</strong> (<em>int, optional (default None)</em>) – number of trials per block  –  if <code class="docutils literal notranslate"><span class="pre">None</span></code> went searched in <code class="docutils literal notranslate"><span class="pre">param_exp</span></code> (see <a class="reference internal" href="0_ANEMO_doc.html#module-ANEMO.ANEMO.ANEMO" title="ANEMO.ANEMO.ANEMO"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ANEMO</span></code></a>)</p>
</li>
<li><p class="first"><strong>time_sup</strong> (<em>int, optional (default 280)</em>) – time that will be deleted to perform the fit (for data that is less good at the end of the test)</p>
</li>
<li><p class="first"><strong>step_fit</strong> (<em>int, optional (default 2)</em>) – number of steps for the fit</p>
</li>
<li><p class="first"><strong>do_whitening</strong> (<em>bool, optional (default False)</em>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code> return the whitened fit</p>
</li>
<li><p class="first"><strong>list_param_enre</strong> (<em>list, optional (default None)</em>) – list of fit parameters to record</p>
<dl class="docutils">
<dt>if <code class="docutils literal notranslate"><span class="pre">None</span></code> :</dt>
<dd><ul class="first last">
<li><p class="first">if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> or <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">list_param_enre</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;start_anti&#39;</span><span class="p">,</span> <span class="s1">&#39;v_anti&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;latence&#39;</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">,</span> <span class="s1">&#39;maxi&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;saccades&#39;</span><span class="p">,</span> <span class="s1">&#39;old_anti&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;old_max&#39;</span><span class="p">,</span> <span class="s1">&#39;old_latence&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p class="first">if <code class="docutils literal notranslate"><span class="pre">equation</span></code> is <code class="docutils literal notranslate"><span class="pre">'fct_saccades'</span></code> :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">list_param_enre</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fit&#39;</span><span class="p">,</span> <span class="s1">&#39;T0&#39;</span><span class="p">,</span> <span class="s1">&#39;t1&#39;</span><span class="p">,</span> <span class="s1">&#39;t2&#39;</span><span class="p">,</span> <span class="s1">&#39;tr&#39;</span><span class="p">,</span>
                   <span class="s1">&#39;x_0&#39;</span><span class="p">,</span> <span class="s1">&#39;x1&#39;</span><span class="p">,</span> <span class="s1">&#39;x2&#39;</span><span class="p">,</span> <span class="s1">&#39;tau&#39;</span><span class="p">]</span>
</pre></div>
</div>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>param_fit</strong> (<em>dic, optional (default None)</em>) –</p>
<dl class="docutils">
<dt>fit parameter dictionary, each parameter is a dict containing :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'name'</span></code> : name of the variable,</li>
<li><code class="docutils literal notranslate"><span class="pre">'value'</span></code> : initial value,</li>
<li><code class="docutils literal notranslate"><span class="pre">'min'</span></code> : minimum value,</li>
<li><code class="docutils literal notranslate"><span class="pre">'max'</span></code> : maximum value,</li>
<li><dl class="first docutils">
<dt><code class="docutils literal notranslate"><span class="pre">'vary'</span></code> :</dt>
<dd><ul class="first last">
<li><code class="docutils literal notranslate"><span class="pre">True</span></code> if varies during fit,</li>
<li><code class="docutils literal notranslate"><span class="pre">'vary'</span></code> if only varies for step 2,</li>
<li><code class="docutils literal notranslate"><span class="pre">False</span></code> if not varies during fit</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>if <code class="docutils literal notranslate"><span class="pre">None</span></code> generate by <a class="reference internal" href="#ANEMO.ANEMO.ANEMO.Fit.generation_param_fit" title="ANEMO.ANEMO.ANEMO.Fit.generation_param_fit"><code class="xref py py-func docutils literal notranslate"><span class="pre">generation_param_fit()</span></code></a></p>
</li>
<li><p class="first"><strong>inde_vars</strong> (<em>dic, optional (default None)</em>) – independent variable dictionary of fit – if <code class="docutils literal notranslate"><span class="pre">None</span></code> generate by <a class="reference internal" href="#ANEMO.ANEMO.ANEMO.Fit.generation_param_fit" title="ANEMO.ANEMO.ANEMO.Fit.generation_param_fit"><code class="xref py py-func docutils literal notranslate"><span class="pre">generation_param_fit()</span></code></a></p>
</li>
<li><p class="first"><strong>before_sacc</strong> (<em>int, optional (default 5)</em>) – time to remove before saccades – it is advisable to put : <code class="docutils literal notranslate"><span class="pre">5</span></code> for <code class="docutils literal notranslate"><span class="pre">'fct_velocity'</span></code> and <code class="docutils literal notranslate"><span class="pre">'fct_position'</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code> for <code class="docutils literal notranslate"><span class="pre">'fct_saccade'</span></code></p>
</li>
<li><p class="first"><strong>after_sacc</strong> (<em>int, optional (default 15)</em>) – time to delete after saccades – it is advisable to put <code class="docutils literal notranslate"><span class="pre">15</span></code></p>
</li>
<li><p class="first"><strong>stop_search_misac</strong> (<em>int, optional (default None)</em>) – stop search of micro_saccade – if <code class="docutils literal notranslate"><span class="pre">None</span></code> stops searching at the <code class="docutils literal notranslate"><span class="pre">end</span> <span class="pre">of</span> <span class="pre">fixation</span> <span class="pre">+</span> <span class="pre">100ms</span></code></p>
</li>
<li><p class="first"><strong>filt</strong> (<em>str {‘position’, ‘velocity’, ‘velocity-position’} or None (default None)</em>) –</p>
<dl class="docutils">
<dt>to filter the data can be :</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal notranslate"><span class="pre">'position'</span></code> : filter the position,</li>
<li><code class="docutils literal notranslate"><span class="pre">'velocity'</span></code> : filter the speed,</li>
<li><code class="docutils literal notranslate"><span class="pre">'velocity-position'</span></code> : filter the position then the speed</li>
<li><code class="docutils literal notranslate"><span class="pre">None</span></code> : the data will not be filtered</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first"><strong>cutoff</strong> (<em>int, optional (default 30)</em>) – the critical frequencies for cutoff of filter</p>
</li>
<li><p class="first"><strong>sample_rate</strong> (<em>int, optional (default 1000)</em>) – sampling rate of the recording for the filtre</p>
</li>
<li><p class="first"><strong>plot</strong> (<em>bool, optional (default None)</em>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code> : save the figure in <code class="docutils literal notranslate"><span class="pre">file_fig</span></code></p>
</li>
<li><p class="first"><strong>file_fig</strong> (<em>str, optional (default None)</em>) – name of file figure reccorded – if <code class="docutils literal notranslate"><span class="pre">None</span></code> file_fig is <code class="docutils literal notranslate"><span class="pre">'Fit'</span></code></p>
</li>
<li><p class="first"><strong>show_target</strong> (<em>bool, optional (default False)</em>) – if <code class="docutils literal notranslate"><span class="pre">True</span></code> show the target on the plot</p>
</li>
<li><p class="first"><strong>fig_width</strong> (<em>int, optional (default 12)</em>) – figure size</p>
</li>
<li><p class="first"><strong>t_label</strong> (<em>int, optional (default 20)</em>) – size x and y label</p>
</li>
<li><p class="first"><strong>t_text</strong> (<em>int, optional (default 14)</em>) – size of the text of the figure</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>param</strong> (<em>dict</em>) – each parameter are ordered : [block][trial]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p><strong>Exemple:</strong></p>
<p>see <a class="reference internal" href="#before-using-the-function"><span class="std std-ref">here</span></a> before using the function</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">param</span> <span class="o">=</span> <span class="n">Fit</span><span class="o">.</span><span class="n">Fit_full</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">equation</span><span class="o">=</span><span class="s1">&#39;fct_velocity&#39;</span><span class="p">,</span>
                     <span class="n">list_param_enre</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;start_anti&#39;</span><span class="p">,</span> <span class="s1">&#39;v_anti&#39;</span><span class="p">,</span> <span class="s1">&#39;latence&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;tau&#39;</span><span class="p">,</span> <span class="s1">&#39;maxi&#39;</span><span class="p">])</span>
<span class="n">param</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
block, trial =  0 0
block, trial =  0 1
block, trial =  1 0
block, trial =  1 1
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>{&#39;latence&#39;: [[192.64240469756055, 183.14646514536844],
  [172.00000025769714, 211.9999996828751]],
 &#39;maxi&#39;: [[14.685157668221773, 12.835471134911385],
  [11.581100536852771, 12.051296551729866]],
 &#39;start_anti&#39;: [[-83.99912519837142, -91.00000137820484],
  [37.49888309979531, 74.94650198695126]],
 &#39;tau&#39;: [[72.41699558658769, 17.380266561997693],
  [44.439207099077635, 13.000069212831383]],
 &#39;v_anti&#39;: [[-1.5973336847205815, 6.562746785796833],
  [29.6508826222867, -23.031916593878364]]}
</pre></div>
</div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">timing of the values of the fitted parameters is the time relative to the appearance of the target</p>
</div>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="5_Equation.html" title="Previous document">Equation</a>
        </li>
        <li>
          <a href="7_Plot.html" title="Next document">Plot</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      
      
      
      <a href="_sources/6_Fit.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/invibe/ANEMO" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>